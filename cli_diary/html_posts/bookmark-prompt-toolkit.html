<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>bookmark_prompt_toolkit</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #cccccc; background-color: #303030; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ffcfaf; } /* Alert */
    code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
    code span.at { } /* Attribute */
    code span.bn { color: #dca3a3; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #f0dfaf; } /* ControlFlow */
    code span.ch { color: #dca3a3; } /* Char */
    code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
    code span.co { color: #7f9f7f; } /* Comment */
    code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
    code span.do { color: #7f9f7f; } /* Documentation */
    code span.dt { color: #dfdfbf; } /* DataType */
    code span.dv { color: #dcdccc; } /* DecVal */
    code span.er { color: #c3bf9f; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #c0bed1; } /* Float */
    code span.fu { color: #efef8f; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
    code span.kw { color: #f0dfaf; } /* Keyword */
    code span.op { color: #f0efd0; } /* Operator */
    code span.ot { color: #efef8f; } /* Other */
    code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
    code span.sc { color: #dca3a3; } /* SpecialChar */
    code span.ss { color: #cc9393; } /* SpecialString */
    code span.st { color: #cc9393; } /* String */
    code span.va { } /* Variable */
    code span.vs { color: #cc9393; } /* VerbatimString */
    code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<header id="title-block-header">
<h1 class="title">bookmark_prompt_toolkit</h1>
<p class="date">2021-08-21 02:58:19</p>
</header>
<p>I was making some updates on the bookmarks app, Urwid version, when it came to me that a change of UI provider was in order.<br />
All the examples in Urwid work under the premise that every time you make a choice in a menu or prompt, there’s always another step that reiterates that you have, indeed, made that choice, and your choice value is kept not as the choice, but as the equal confirmation value. I think this will be clearer with an example:</p>
<p>In the ‘Simple Menu’ example of the <a href="http://urwid.org/tutorial/index.html">Urwid tutorial</a>, you select an option from choices <code>choices = u'Chapman Cleese Gilliam Idle Jones Palin'.split()</code>, and instead of using the direct value <code>choice</code>, it’s created a button that, when printed the <code>choice</code> value, clicks OK, and ends the choice process. In short instead of having a choice and a <code>enter</code> key-press, we have that plus clicking on a button that the only thing it does is confirm what you have just done.</p>
<p>If you’re doing an UI that has few interactions with the user, this is not very taxing. But if you need to concatenate one or more commands in sequence, these confirmations start to feel as stumbling blocks.<br />
I did some research and all the examples I saw followed this blueprint. So much so that I now am convinced that this is a feature of how Urwid functions.<br />
Obviously I might be wrong and there is indeed a way to circumvent the confirmations, but I wasn’t able to figure it out.<br />
Add to this the fact that you can only make one request by function, and I started to think that, even if prompt_toolkit is hard to grasp, it couldn’t be as hard as this. And I was right.<br />
Prompt_toolkit has some ready to use dialog boxes that if not very flexible, are extremely simple and quick to implement.</p>
<p>This build had two very nice bonuses, that solved two problems that I was trying to resolve for some time: 1. How to create a class where all information is added by user input, 2. How to instantiate a class without instantiation values.</p>
<p>I see now that the solutions were obvious and not very difficult to reach. But difficult, for me, it was. And I’m happy I solved it.</p>
<p>In this case all information needed to run the methods is specific to one method only. There aren’t any variables that are needed by more than one method. This enabled me to not use a __init__ method and thus avoided having to inject values when instantiating the class. So I was free to insert on the methods the input queries for each functionality.</p>
<ol type="1">
<li>I created an add a bookmark method:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_bkmk(<span class="va">self</span>):</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Title&quot;</span>, text<span class="op">=</span><span class="st">&quot;What is the title? &quot;</span>).run()</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>        comment <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Comment&quot;</span>, text<span class="op">=</span><span class="st">&quot;What is your comment? &quot;</span>).run()</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        link <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Link&quot;</span>, text<span class="op">=</span><span class="st">&quot;What is the link? &quot;</span>).run()</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>        k1 <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;K1&quot;</span>, text<span class="op">=</span><span class="st">&quot;Choose a keyword &quot;</span>).run()</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>        k2 <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;K2&quot;</span>, text<span class="op">=</span><span class="st">&quot;Choose another... &quot;</span>).run()</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>        k3 <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;K3&quot;</span>, text<span class="op">=</span><span class="st">&quot;And another...&quot;</span>).run()</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        answers <span class="op">=</span> [title, comment, link, k1, k2, k3]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>        logger.info(answers)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> <span class="st">&quot;&quot;&quot;INSERT INTO bkmks (title, comment, link, k1, k2, k3) VALUES (</span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">)&quot;&quot;&quot;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>            cur.execute(query, answers)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>            conn.commit()</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>                conn.close()</span></code></pre></div>
<ol start="2" type="1">
<li>A delete a bookmark method:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> delete(<span class="va">self</span>):</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;We must use &#39;ident&#39;, not &#39;id&#39; in choosing the variable name, as the latter is a reserved word&quot;&quot;&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        ident <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Delete Entry&quot;</span>, text<span class="op">=</span><span class="st">&quot;What is the ID? &quot;</span>).run()</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        logger.info(ident)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> <span class="st">&quot; DELETE FROM bkmks WHERE id = &quot;</span> <span class="op">+</span> ident</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>            cur.execute(query)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>            conn.commit()</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>                conn.close()</span></code></pre></div>
<ol start="3" type="1">
<li>A see all bookmarks method:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> see(<span class="va">self</span>):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> <span class="st">&quot;&quot;&quot; SELECT * FROM bkmks &quot;&quot;&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            cur.execute(query)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>            records <span class="op">=</span> cur.fetchall()</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> row <span class="kw">in</span> records:</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] ID » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">0</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))  <span class="co"># 1</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] TITLE » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">1</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] COMMENT » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">2</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] LINK ? &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">3</span>]), fore<span class="op">=</span><span class="st">&quot;#a2cff0&quot;</span>))</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 1 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">4</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 2 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">5</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 3 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">6</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] TIME » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">7</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>                conn.close()</span></code></pre></div>
<ol start="4" type="1">
<li>A search the bookmarks method:</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>            busca <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Search Bookmarks&quot;</span>, text<span class="op">=</span><span class="st">&quot;What are you searching for? &quot;</span>).run()</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> (</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot; SELECT * FROM bkmks WHERE MATCH(title, comment, link, k1, k2, k3) AGAINST (&#39;&quot;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>                <span class="op">+</span> busca</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>                <span class="op">+</span> <span class="st">&quot;&#39; IN NATURAL LANGUAGE MODE)&quot;</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>            cur.execute(query)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>            records <span class="op">=</span> cur.fetchall()</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> row <span class="kw">in</span> records:</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] ID » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">0</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] TITLE » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">1</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] COMMENT » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">2</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] LINK ? &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">3</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 1 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">4</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 2 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">5</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 3 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">6</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] TIME » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">7</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>                conn.close()</span></code></pre></div>
<ol start="5" type="1">
<li>And an update a bookmark method:</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>        coluna <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Update Column&quot;</span>, text<span class="op">=</span><span class="st">&quot;Column? &quot;</span>).run()</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>        ident <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Entry ID&quot;</span>, text<span class="op">=</span><span class="st">&quot;ID? &quot;</span>).run()</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        update <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Update Text&quot;</span>, text<span class="op">=</span><span class="st">&quot;Write your update.&quot;</span>).run()</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> <span class="st">&quot;UPDATE bkmks SET &quot;</span> <span class="op">+</span> coluna <span class="op">+</span> <span class="st">&quot; = &#39;&quot;</span> <span class="op">+</span> update <span class="op">+</span> <span class="st">&quot;&#39; WHERE id = &quot;</span> <span class="op">+</span> ident</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>            cur.execute(</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>                query,</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>            conn.commit()</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>                conn.close()</span></code></pre></div>
<p>This is the whole class:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> loguru <span class="im">import</span> logger</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> prompt_toolkit.shortcuts <span class="im">import</span> input_dialog</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> mysql.connector <span class="im">import</span> <span class="ex">connect</span>, Error</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> colr <span class="im">import</span> color</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">################################################################################</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># @author      : mclds</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># @file        : add</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># @created     : 21/08/2021</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co"># @email       : mclds@protonmail.com</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># @description : Bookmark manager app. Adds, deletes, updates, searches, sees</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># the bookmark database. The UI is done in Prompt_Toolkit</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">################################################################################</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>fmt <span class="op">=</span> <span class="st">&quot;</span><span class="sc">{time}</span><span class="st"> - </span><span class="sc">{name}</span><span class="st"> - </span><span class="sc">{level}</span><span class="st"> - </span><span class="sc">{message}</span><span class="st">&quot;</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>logger.add(<span class="st">&quot;info.log&quot;</span>, level<span class="op">=</span><span class="st">&quot;INFO&quot;</span>, <span class="bu">format</span><span class="op">=</span>fmt, backtrace<span class="op">=</span><span class="va">True</span>, diagnose<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>logger.add(<span class="st">&quot;error.log&quot;</span>, level<span class="op">=</span><span class="st">&quot;ERROR&quot;</span>, <span class="bu">format</span><span class="op">=</span>fmt, backtrace<span class="op">=</span><span class="va">True</span>, diagnose<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Add:</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;This file is organized as a class just because the functions can be organized under the app umbrella. But in reality</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">    there&#39;s no __init__ variables as there are no variables that are needed by more than one method. As user input is the</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="co">    base of all methods, we are working without __init__ method, that would force us to have pre-determined values to</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="co">    instantiate the class. This way we can instantiate the class, empty of attributes.&quot;&quot;&quot;</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">@logger.catch</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> add_bkmk(<span class="va">self</span>):</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>        title <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Title&quot;</span>, text<span class="op">=</span><span class="st">&quot;What is the title? &quot;</span>).run()</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>        comment <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Comment&quot;</span>, text<span class="op">=</span><span class="st">&quot;What is your comment? &quot;</span>).run()</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>        link <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Link&quot;</span>, text<span class="op">=</span><span class="st">&quot;What is the link? &quot;</span>).run()</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>        k1 <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;K1&quot;</span>, text<span class="op">=</span><span class="st">&quot;Choose a keyword &quot;</span>).run()</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>        k2 <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;K2&quot;</span>, text<span class="op">=</span><span class="st">&quot;Choose another... &quot;</span>).run()</span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>        k3 <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;K3&quot;</span>, text<span class="op">=</span><span class="st">&quot;And another...&quot;</span>).run()</span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>        answers <span class="op">=</span> [title, comment, link, k1, k2, k3]</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>        logger.info(answers)</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> <span class="st">&quot;&quot;&quot;INSERT INTO bkmks (title, comment, link, k1, k2, k3) VALUES (</span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">, </span><span class="sc">%s</span><span class="st">)&quot;&quot;&quot;</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>            cur.execute(query, answers)</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>            conn.commit()</span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>                conn.close()</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">@logger.catch</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> delete(<span class="va">self</span>):</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>        <span class="co">&quot;&quot;&quot;We must use &#39;ident&#39;, not &#39;id&#39; in choosing the variable name, as the latter is a reserved word&quot;&quot;&quot;</span></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>        ident <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Delete Entry&quot;</span>, text<span class="op">=</span><span class="st">&quot;What is the ID? &quot;</span>).run()</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>        logger.info(ident)</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> <span class="st">&quot; DELETE FROM bkmks WHERE id = &quot;</span> <span class="op">+</span> ident</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>            cur.execute(query)</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>            conn.commit()</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>                conn.close()</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>    <span class="at">@logger.catch</span></span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> see(<span class="va">self</span>):</span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> <span class="st">&quot;&quot;&quot; SELECT * FROM bkmks &quot;&quot;&quot;</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>            cur.execute(query)</span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>            records <span class="op">=</span> cur.fetchall()</span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> row <span class="kw">in</span> records:</span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] ID » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">0</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))  <span class="co"># 1</span></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] TITLE » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">1</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] COMMENT » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">2</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] LINK ? &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">3</span>]), fore<span class="op">=</span><span class="st">&quot;#a2cff0&quot;</span>))</span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 1 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">4</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 2 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">5</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 3 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">6</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] TIME » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">7</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a>                conn.close()</span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>    <span class="at">@logger.catch</span></span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> search(<span class="va">self</span>):</span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>            busca <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Search Bookmarks&quot;</span>, text<span class="op">=</span><span class="st">&quot;What are you searching for? &quot;</span>).run()</span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> (</span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot; SELECT * FROM bkmks WHERE MATCH(title, comment, link, k1, k2, k3) AGAINST (&#39;&quot;</span></span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>                <span class="op">+</span> busca</span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>                <span class="op">+</span> <span class="st">&quot;&#39; IN NATURAL LANGUAGE MODE)&quot;</span></span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a>            cur.execute(query)</span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>            records <span class="op">=</span> cur.fetchall()</span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> row <span class="kw">in</span> records:</span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] ID » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">0</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] TITLE » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">1</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] COMMENT » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">2</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] LINK ? &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">3</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 1 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">4</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 2 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">5</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] KEYWORD 3 » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">6</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(color(<span class="st">&quot; [*] TIME » &quot;</span>, fore<span class="op">=</span><span class="st">&quot;#928b7f&quot;</span>), color(<span class="bu">str</span>(row[<span class="dv">7</span>]), fore<span class="op">=</span><span class="st">&quot;#ffffff&quot;</span>))</span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a>                <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb6-122"><a href="#cb6-122" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb6-123"><a href="#cb6-123" aria-hidden="true" tabindex="-1"></a>                conn.close()</span>
<span id="cb6-124"><a href="#cb6-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-125"><a href="#cb6-125" aria-hidden="true" tabindex="-1"></a>    <span class="at">@logger.catch</span></span>
<span id="cb6-126"><a href="#cb6-126" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> update(<span class="va">self</span>):</span>
<span id="cb6-127"><a href="#cb6-127" aria-hidden="true" tabindex="-1"></a>        coluna <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Update Column&quot;</span>, text<span class="op">=</span><span class="st">&quot;Column? &quot;</span>).run()</span>
<span id="cb6-128"><a href="#cb6-128" aria-hidden="true" tabindex="-1"></a>        ident <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Entry ID&quot;</span>, text<span class="op">=</span><span class="st">&quot;ID? &quot;</span>).run()</span>
<span id="cb6-129"><a href="#cb6-129" aria-hidden="true" tabindex="-1"></a>        update <span class="op">=</span> input_dialog(title<span class="op">=</span><span class="st">&quot;Update Text&quot;</span>, text<span class="op">=</span><span class="st">&quot;Write your update.&quot;</span>).run()</span>
<span id="cb6-130"><a href="#cb6-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-131"><a href="#cb6-131" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb6-132"><a href="#cb6-132" aria-hidden="true" tabindex="-1"></a>            conn <span class="op">=</span> <span class="ex">connect</span>(host<span class="op">=</span><span class="st">&quot;localhost&quot;</span>, user<span class="op">=</span><span class="st">&quot;mic&quot;</span>, password<span class="op">=</span><span class="st">&quot;xxxx&quot;</span>, database<span class="op">=</span><span class="st">&quot;bkmks&quot;</span>)</span>
<span id="cb6-133"><a href="#cb6-133" aria-hidden="true" tabindex="-1"></a>            cur <span class="op">=</span> conn.cursor()</span>
<span id="cb6-134"><a href="#cb6-134" aria-hidden="true" tabindex="-1"></a>            query <span class="op">=</span> <span class="st">&quot;UPDATE bkmks SET &quot;</span> <span class="op">+</span> coluna <span class="op">+</span> <span class="st">&quot; = &#39;&quot;</span> <span class="op">+</span> update <span class="op">+</span> <span class="st">&quot;&#39; WHERE id = &quot;</span> <span class="op">+</span> ident</span>
<span id="cb6-135"><a href="#cb6-135" aria-hidden="true" tabindex="-1"></a>            logger.info(query)</span>
<span id="cb6-136"><a href="#cb6-136" aria-hidden="true" tabindex="-1"></a>            cur.execute(</span>
<span id="cb6-137"><a href="#cb6-137" aria-hidden="true" tabindex="-1"></a>                query,</span>
<span id="cb6-138"><a href="#cb6-138" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb6-139"><a href="#cb6-139" aria-hidden="true" tabindex="-1"></a>            conn.commit()</span>
<span id="cb6-140"><a href="#cb6-140" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> Error <span class="im">as</span> e:</span>
<span id="cb6-141"><a href="#cb6-141" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;Error while connecting to db&quot;</span>, e)</span>
<span id="cb6-142"><a href="#cb6-142" aria-hidden="true" tabindex="-1"></a>        <span class="cf">finally</span>:</span>
<span id="cb6-143"><a href="#cb6-143" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> conn:</span>
<span id="cb6-144"><a href="#cb6-144" aria-hidden="true" tabindex="-1"></a>                conn.close()</span></code></pre></div>
<hr />
<h2 id="main-file">Main File</h2>
<p>I created a main file where I concentrated the access to the functionalities through a menu, where the user can choose what is going to do with the app. The user choice variable is kept in the ‘result’ variable. So as to access it when instantiating the class, I used the convention that variables named with the function name, ‘main’, and a variable name, are accessible outside the function:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;Inside the function we build the radio button questionnaire. Outside the function,</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">    and necessarily so, we declare the instantiation of the imported class.</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Finally we connect each radio button option to a specific method, mediated by the</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">    instance&quot;&quot;&quot;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    main.result <span class="op">=</span> radiolist_dialog(</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">&quot;Main&quot;</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">&quot;What Do You Want To Do?&quot;</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>        values<span class="op">=</span>[</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;add&quot;</span>, <span class="st">&quot;Add a Bookmark&quot;</span>),</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;delete&quot;</span>, <span class="st">&quot;Delete a Bookmark&quot;</span>),</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;see&quot;</span>, <span class="st">&quot;See All Bookmarks&quot;</span>),</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;search&quot;</span>, <span class="st">&quot;Search the Bookmarks&quot;</span>),</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;update&quot;</span>, <span class="st">&quot;Update a Bookmark&quot;</span>),</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    ).run()</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>main()</span></code></pre></div>
<p>Outside the main function I instantiated the Add class that I imported to this file:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">sum</span> <span class="op">=</span> Add()</span></code></pre></div>
<p>Note that ‘Add’ is empty and it will accept whatever values the input objects will create inside the methods.<br />
Now is just the case of connecting the menu alternatives to their corresponding methods:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;add&quot;</span>:</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.add_bkmk()</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;delete&quot;</span>:</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.delete()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;see&quot;</span>:</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.see()</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;search&quot;</span>:</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.search()</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;update&quot;</span>:</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.update()</span></code></pre></div>
<p>The whole main file:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> loguru <span class="im">import</span> logger</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> prompt_toolkit.shortcuts <span class="im">import</span> radiolist_dialog</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bkmk_class <span class="im">import</span> Add</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">################################################################################</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co"># @author      : mclds</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co"># @file        : main</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co"># @created     : 21/08/2021</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># @email       : mclds@protonmail.com</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co"># @description : Main file where all functionalities are concentrated and</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co"># accessed.</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">################################################################################</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>fmt <span class="op">=</span> <span class="st">&quot;</span><span class="sc">{time}</span><span class="st"> - </span><span class="sc">{name}</span><span class="st"> - </span><span class="sc">{level}</span><span class="st"> - </span><span class="sc">{message}</span><span class="st">&quot;</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>logger.add(<span class="st">&quot;info.log&quot;</span>, level<span class="op">=</span><span class="st">&quot;INFO&quot;</span>, <span class="bu">format</span><span class="op">=</span>fmt, backtrace<span class="op">=</span><span class="va">True</span>, diagnose<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>logger.add(<span class="st">&quot;error.log&quot;</span>, level<span class="op">=</span><span class="st">&quot;ERROR&quot;</span>, <span class="bu">format</span><span class="op">=</span>fmt, backtrace<span class="op">=</span><span class="va">True</span>, diagnose<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="at">@logger.catch</span>  <span class="co"># Decorator for loguru. All errors will go log. Has to be on all functions</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">&quot;&quot;&quot;Inside the function we build the radio button questionnaire. Outside the function,</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co">    and necessarily so, we declare the instantiation of the imported class.</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co">    Finally we connect each radio button option to a specific method, mediated by the</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="co">    instance&quot;&quot;&quot;</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    main.result <span class="op">=</span> radiolist_dialog(</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">&quot;Main&quot;</span>,</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">&quot;What Do You Want To Do?&quot;</span>,</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>        values<span class="op">=</span>[</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;add&quot;</span>, <span class="st">&quot;Add a Bookmark&quot;</span>),</span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;delete&quot;</span>, <span class="st">&quot;Delete a Bookmark&quot;</span>),</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;see&quot;</span>, <span class="st">&quot;See All Bookmarks&quot;</span>),</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;search&quot;</span>, <span class="st">&quot;Search the Bookmarks&quot;</span>),</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>            (<span class="st">&quot;update&quot;</span>, <span class="st">&quot;Update a Bookmark&quot;</span>),</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    ).run()</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>main()</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="bu">sum</span> <span class="op">=</span> Add()</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;add&quot;</span>:</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.add_bkmk()</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;delete&quot;</span>:</span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.delete()</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;see&quot;</span>:</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.see()</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;search&quot;</span>:</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.search()</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> main.result <span class="op">==</span> <span class="st">&quot;update&quot;</span>:</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>    <span class="bu">sum</span>.update()</span></code></pre></div>
</body>
</html>
